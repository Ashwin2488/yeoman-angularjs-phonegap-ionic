/*! angular-jqm - v0.0.1-SNAPSHOT - 2014-04-28
 * https://github.com/angular-widgets/angular-jqm
 * Copyright (c) 2014 OPITZ CONSULTING GmbH; Licensed MIT */
!function(a,b){"use strict";function c(a){for(var b=0;b<a.length;b++)d(a[b])}function d(a){k.animation("."+a,["$timeout","$animationComplete",function(a,b){function c(a){return function(c,d){function e(){g||(c.addClass(a),f=b(c,d,!0))}var f,g;return c.css("z-index",-10),e(),c.css("z-index",""),function(){g=!0,(f||s)(),c.removeClass(a)}}}var d=c("in"),e=c("out");return{enter:d,leave:e,move:d,addClass:function(a,b,c){return"ng-hide"===b?e(a,c):d(a,c)},removeClass:function(a,b,c){return"ng-hide"===b?d(a,c):e(a,c)}}}])}function e(a){for(var b=0;b<a.length;b++)f(a[b],"page-"+a[b])}function f(a,b){k.animation("."+b,["$animationComplete","$timeout",function(b,c){function d(d,e){function f(){d.removeClass("ui-page-pre-in"),d.css("z-index",""),d.addClass("in"),h=b(d,function(a){a.target&&a.target!==d[0]||e()})}function g(){i=!0,(h||s)(),d.removeClass("ui-page-pre-in in "+a),d.css("z-index","")}var h,i;return d.addClass("ui-page-pre-in ui-page-active "+a),d.css("z-index",-10),c(function(){i||f()},1,!1),g}function e(d,e){function f(){d.addClass("out"),h=b(d,function(a){a.target&&a.target!==d[0]||e()})}function g(){i=!0,(h||s)(),d.removeClass("ui-page-active out "+a)}var h,i;return d.addClass(a),c(function(){i||f()},1,!1),g}return{enter:d,leave:e,move:d,addClass:function(a,b,c){"in"===b?d(a,c):e(a,c)},removeClass:function(a,b,c){"out"===b?d(a,c):e(a,c)}}}])}function g(){return{restrict:"E",require:["?^jqmHeader","?^jqmFooter"],link:function(a,b,c,d){(d[0]||d[1])&&b.addClass("ui-title")}}}function h(a,b){return["jqmConfig",function(c){return{restrict:"A",scope:!0,require:["^?jqmPage","^?jqmView"],controller:s,link:function(d,e,f,g){var h=d.hasOwnProperty("$theme"),i=g[0]||g[1];h||(d.$theme=c.secondaryTheme),e.addClass(b+" ui-bar-"+d.$theme),i&&(i.$element.prepend(e),i.$scope[a]=!0,e.bind("$destroy",function(){i.$scope[a]=!1}))}}}]}function i(a){return function(){return{restrict:"A",replace:!0,transclude:!0,scope:{},template:a?'<li jqm-scope-as="jqmLi"  class="ui-li ui-li-divider ui-bar-{{$theme}}"  jqm-class="{\'ui-first-child\': $position.first, \'ui-last-child\': $position.last}"  ng-transclude></li>':'<li jqm-scope-as="jqmLi"  class="ui-li ui-li-static ui-btn-up-{{$theme}}"  jqm-class="{\'ui-first-child\': $position.first, \'ui-last-child\': $position.last}"  ng-transclude></li>'}}}function j(a){function b(b,c,d,e){var f=e[1],g=f&&f.getPanel(a);g&&(g.scope.pullable=!0,b.$on("$destroy",function(){g.scope.pullable=!1}),b.$on("$disconnect",function(){g.scope.pullable=!1}))}return function(){return{restrict:"A",link:b,require:["jqmPage","^?jqmPanelContainer"]}}}var k=b.module("jqm",["ngTouch","ngRoute","ngAnimate","ajoslin.scrolly","ui.bootstrap.position"]),l=b.equals,m=(b.extend,b.forEach),n=b.isArray,o=b.isDefined,p=b.isObject,q=b.isString,r=b.element,s=b.noop,t=b.isFunction,u=["slide","fade","pop","slidefade","slidedown","slideup","flip","turn","flow","modal"];c(u),e(u),k.directive({h1:g,h2:g,h3:g,h4:g,h5:g,h6:g}),k.directive("jqmButton",["jqmClassDirective",function(a){return{restrict:"A",transclude:!0,template:'<span class="ui-btn-inner">  <span class="ui-btn-text" ng-transclude></span>  <span ng-if="icon" class="{{shadow ? \'ui-icon-shadow\' : \'\'}} ui-icon {{icon}}">&nbsp;</span></span>',scope:{iconpos:"@",icon:"@",mini:"@",shadow:"@",corners:"@",inline:"@"},require:"^?jqmControlGroup",compile:function(b,c){if(c.shadow=o(c.shadow)?"true"===c.shadow:"true",c.corners=o(c.corners)?"true"===c.corners:"true",b[0].className+=" ui-btn",c.$set("jqmClass","{'ui-first-child': $position.first,'ui-submit': type,'ui-last-child': $position.last,'ui-shadow': shadow,'ui-btn-corner-all': corners,'ui-mini': isMini(),'ui-btn-inline': isInline()}"),"input"===b[0].tagName.toLowerCase())throw new Error("Cannot have jqm-button <input> - use <button> instead!");var d;return c.jqmButton&&(d=r("<button>"),d.addClass("ui-btn-hidden"),d.attr("type",c.jqmButton),c.name&&d.attr("name",c.name),c.ngDisabled?d.attr("ngDisabled",c.ngDisabled):c.disabled&&d.attr("disabled",c.disabled),b.append(d)),function(b,c,d,e){function f(){return b.mini||e&&e.$scope.mini}function g(){return b.iconpos||e&&e.$scope.iconpos||(b.icon?"left":"")}function h(){return e&&"horizontal"===e.$scope.type||b.inline}c.addClass("ui-btn-up-"+b.$theme+" "+(g()?"ui-btn-icon-"+g():"")),b.isMini=f,b.getIconPos=g,b.isInline=h,b.type=d.jqmButton,m(a,function(a){a.link(b,c,d)})}}}}]),k.directive("jqmCachingView",["jqmViewDirective","jqmViewCache","$injector","$q",function(a,b,c,d){function e(e,i){function j(a,c,e){var i=b.get(a);return!a&&c?l("",c):i?i===e?l(a,c):d.when(i):k.fetchView(a).then(function(c){return c.clear=f,c.scope.$destroy=h,c.element.remove=g,b.put(a,c)})}var k=this;m(a,function(a){c.invoke(a.controller,k,{$scope:e,$element:i})}),i.data("$jqmViewController",this);var l=this.loadView;this.viewWatchAttr="jqmCachingView",this.loadView=j}function f(){this.element.remove(),this.scope.$destroy(),this.element.hasClass("ng-animate")&&this.element.triggerHandler("animationend"),this.element.removeClass("ui-page-active")}function g(){var a,b,c;for(a=0;a<this.length;a++)b=this[a],c=b.parentNode,c&&c.removeChild(b)}function h(){var a;this.$$watchers=[],this.$$listeners=[];for(a in this)this.hasOwnProperty(a)&&"$"!==a.charAt(0)&&delete this[a];this.$disconnect()}return{restrict:"A",template:'<div class="ui-mobile-viewport" jqm-class="\'ui-overlay-\'+$theme" jqm-transclude></div>',replace:!0,transclude:!0,controller:["$scope","$element",e],link:function(b,c,d,e){m(a,function(a){a.link(b,c,d,e)})}}}]),k.directive("jqmCheckbox",[function(){return{restrict:"A",transclude:!0,replace:!0,template:"<div class=\"ui-checkbox\" jqm-class=\"{'ui-disabled': disabled}\">  <label jqm-class=\"{'ui-checkbox-on': checked, 'ui-checkbox-off': !checked,       'ui-first-child': $position.first, 'ui-last-child': $position.last,       'ui-mini':isMini(), 'ui-fullsize':!isMini(),       'ui-btn-active':isActive(),       'ui-btn-icon-left': getIconPos()!='right', 'ui-btn-icon-right': getIconPos()=='right'}\"       ng-click=\"toggleChecked()\"       jqm-once-class=\"ui-btn-up-{{$theme}}\"       class=\"ui-btn ui-btn-corner-all\">    <span class=\"ui-btn-inner\">      <span class=\"ui-btn-text\" ng-transclude></span>      <span jqm-class=\"{'ui-icon-checkbox-on': checked, 'ui-icon-checkbox-off': !checked}\"          class=\"ui-icon ui-icon-shadow\"></span>    </span>  </label>  <input type=\"checkbox\" ng-model=\"checked\"></div>",scope:{disabled:"@",mini:"@",iconpos:"@"},require:["?ngModel","^?jqmControlgroup"],link:function(a,b,c,d){function e(){return a.mini||k&&k.$scope.mini}function f(){return a.iconpos||k&&k.$scope.iconpos}function g(){return k&&"horizontal"===k.$scope.type&&a.checked}function h(){a.disabled||(a.checked=!a.checked,j&&j.$setViewValue(a.checked))}function i(){var b=c.ngTrueValue,d=c.ngFalseValue;q(b)||(b=!0),q(d)||(d=!1),j.$render=function(){a.checked=j.$viewValue},j.$formatters.push(function(a){return a===b}),j.$parsers.push(function(a){return a?b:d})}var j=d[0],k=d[1];a.toggleChecked=h,a.isMini=e,a.getIconPos=f,a.isActive=g,j&&i()}}}]),k.directive("jqmClass",[function(){return{link:function(a,b,c){function d(a){l(a,f)||(b.removeClass(e(f)),b.addClass(e(a)),f=a)}function e(a){if(p(a)&&!n(a)){var b=[];m(a,function(a,c){a&&b.push(c)}),a=b}return n(a)?a.join(" "):a}var f;a.$watch(c.jqmClass,d,!0),c.$observe("class",function(){var b=a.$eval(c.jqmClass);d(b)})}}}]),k.directive("jqmControlgroup",function(){function a(a){this.$scope=a}return{restrict:"A",replace:!0,transclude:!0,template:"<fieldset class=\"ui-controlgroup\"   jqm-class=\"{'ui-mini': mini,      'ui-shadow': shadow,     'ui-corner-all': corners!='false',     'ui-controlgroup-vertical': type!='horizontal',      'ui-controlgroup-horizontal': type=='horizontal'}\">  <div ng-if=\"legend\" class=\"ui-controlgroup-label\">    <legend>{{legend}}</legend>  </div>  <div class=\"ui-controlgroup-controls\" ng-transclude jqm-position-anchor></div></fieldset>",scope:{mini:"@",iconpos:"@",type:"@",shadow:"@",corners:"@",legend:"@"},controller:["$scope",a]}}),k.directive("jqmFieldcontain",function(){return{restrict:"A",compile:function(a){a[0].className+=" ui-field-contain ui-body ui-br"}}}),k.directive("jqmFlip",[function(){return{restrict:"A",transclude:!0,replace:!0,template:'<div jqm-scope-as="jqmFlip">    <label class="ui-slider" ng-transclude></label>    <div class="ui-slider ui-slider-switch ui-btn-down-{{$theme}} ui-btn-corner-all"       jqm-class="{\'ui-disabled\': disabled,            \'ui-mini\': isMini()}"       ng-click="toggle()">       <span class="ui-slider-label ui-slider-label-a ui-btn-active ui-btn-corner-all" ng-style="{width: onStyle + \'%\'}">{{onLabel}}</span>       <span class="ui-slider-label ui-slider-label-b ui-btn-down-{{theme}} ui-btn-corner-all" ng-style="{width: offStyle + \'%\'}">{{offLabel}}</span>        <div class="ui-slider-inneroffset">          <a class="ui-slider-handle ui-slider-handle-snapping ui-btn ui-btn-corner-all ui-btn-up-{{theme}} ui-shadow"           title="{{toggleLabel}}"           ng-style="{left: onStyle + \'%\'}">          <span class="ui-btn-inner"><span class="ui-btn-text"></span></span>          </a>        </div>    </div></div>',scope:{onLabel:"@",onValue:"@",offLabel:"@",offValue:"@",mini:"@",disabled:"@"},require:["?ngModel","^?jqmControlgroup"],link:function(a,b,c,d){function e(){n.$parsers.push(k),l=k(a.onValue),m=k(a.offValue),n.$render=f,n.$viewChangeListeners.push(f)}function f(){g();var b=i();a.toggleLabel=b?a.onLabel:a.offLabel,a.onStyle=b?100:0,a.offStyle=b?0:100}function g(){n.$viewValue||n.$setViewValue(m)}function h(){a.toggle=function(){n.$setViewValue(i()?m:l)}}function i(){return n.$viewValue===l}function j(){return a.mini||p&&p.$scope.mini}function k(a){return"true"===a?!0:"false"===a?!1:a}var l,m,n=d[0],p=d[1];a.theme=a.$theme||"c",a.isMini=j,a.onValue=o(c.onValue)?a.onValue:!0,a.offValue=o(c.offValue)?a.offValue:!1,e(),h()}}}]),k.directive({jqmHeader:h("$header","ui-header"),jqmFooter:h("$footer","ui-footer")}),k.directive("jqmInputText",["$compile","$timeout",function(a,b){var c='<a jqm-button ng-show="showClearButton()" class="ui-input-clear ui-fullsize" iconpos="notext" icon="ui-icon-delete" ng-click="clearButtonAction()">clear text</a>';return{restrict:"A",require:["?ngModel","^?jqmInputWrapper"],scope:{type:"@",mini:"@",clearBtn:"&"},link:function(d,e,f,g){function h(){d.isFocused=!0,k()}function i(){d.isFocused=!1,k()}function j(a){d.disabled=!!a,k()}function k(){e.toggleClass("ui-input-text ui-body-"+d.$theme,!("checkbox"==d.type||"radio"==d.type)),q||(e.toggleClass("mobile-textinput-disabled ui-state-disabled",!!d.disabled),e.toggleClass("ui-focus",!!d.isFocused),e.addClass("ui-corner-all ui-shadow-inset"))}function l(){return r&&e.val()}function m(){p&&p.$setViewValue(""),e.val(""),(d.clearBtn||s)(),e[0].focus()}var n=e[0].tagName.toLowerCase();if("input"!=n)throw new Error("jqmInputText must be an <input>. Instead, is  <"+n+">!");var p=g[0],q=g[1],r=o(f.clearBtn);r&&e.after(a(c)(d)),q&&(q.$scope.input=d),k(),e.on("focus",function(){b(h)}),e.on("blur",function(){b(i)}),f.$observe("disabled",j),f.$observe("class",k),d.showClearButton=l,d.clearButtonAction=m}}}]),k.directive("jqmInputWrapper",["jqmClassDirective","jqmPositionAnchorDirective",function(){function a(a){function b(){return a.input&&"search"===a.input.type}function c(){return!d()&&!e()&&!b()}function d(){return a.input&&"checkbox"===a.input.type}function e(){return a.input&&"radio"===a.input.type}this.$scope=a,a.isSearch=b,a.isText=c,a.isCheckbox=d,a.isRadio=e}return{restrict:"A",controller:["$scope",a],scope:{},replace:!0,transclude:!0,template:"<div jqm-class=\"{'ui-disabled': input.disabled,  'ui-mini': input.mini,  'ui-input-search ui-btn-corner-all ui-icon-searchfield': isSearch(),  'ui-input-text ui-corner-all': isText(),  'ui-checkbox': isCheckbox(),  'ui-focus': input.isFocused}\"  jqm-once-class=\"ui-body-{{input.$theme || $theme}}\"  class=\"ui-shadow-inset ui-btn-shadow\" jqm-transclude></div>"}}]),k.directive("jqmLiCount",[function(){return{restrict:"A",require:"^jqmLiLink",compile:function(a,b){return b.$set("class",(b.class||"")+" ui-li-count ui-btn-corner-all"),function(a,b,c,d){d.$scope.hasCount=!0}}}}]),k.directive({jqmLiEntry:i(!1),jqmLiDivider:i(!0)}),k.directive("jqmLiLink",[function(){function a(a){this.$scope=a}return{restrict:"A",transclude:!0,replace:!0,template:'<li class="ui-li ui-btn" jqm-scope-as="jqmLiLink"jqm-once-class="{{icon ? \'ui-li-has-arrow ui-btn-icon-\'+iconpos : \'\'}} ui-btn-up-{{$theme}}"  jqm-class="{\'ui-first-child\': $position.first,   \'ui-last-child\': $position.last,   \'ui-li-has-thumb\': hasThumb,   \'ui-li-has-count\': hasCount}">  <div class="ui-btn-inner ui-li">    <div class="ui-btn-text">      <a ng-href="{{link}}" class="ui-link-inherit" ng-transclude>      </a>    </div>  <span ng-show="icon"     class="ui-icon {{icon}}"     jqm-class="{\'ui-icon-shadow\': iconShadow}">    &nbsp;  </span>  </div></li>',controller:["$scope",a],scope:{icon:"@",iconpos:"@",iconShadow:"@",link:"@jqmLiLink"},compile:function(a,b){b.icon=o(b.icon)?b.icon:"ui-icon-arrow-r",b.iconpos=o(b.iconpos)?b.iconpos:"right",b.iconShadow=o(b.iconShadow)?b.iconShadow:!0}}}]),k.directive("jqmLiThumb",[function(){return{restrict:"A",require:"^jqmLiLink",compile:function(a,b){return b.$set("class",(b.class||"")+" ui-li-thumb"),function(a,b,c,d){d.$scope.hasThumb=!0}}}}]),k.directive("jqmListview",[function(){return{restrict:"A",replace:!0,transclude:!0,template:"<ul class=\"ui-listview\"  jqm-class=\"{'ui-listview-inset': inset,  'ui-corner-all': useDefaultCorners ? inset=='true' : corners=='true',  'ui-shadow': useDefaultShadow ? inset : shadow=='true'}\"  ng-transclude jqm-position-anchor></ul>",scope:{inset:"@",corners:"@",shadow:"@"},link:function(a,b,c){a.useDefaultShadow=!o(c.shadow),a.useDefaultCorners=!o(c.corners)}}}]),k.directive("jqmLoadDialog",["$animate","$rootElement",function(a,b){return{restrict:"A",transclude:!0,replace:!0,template:"<div jqm-class=\"'ui-loader ui-corner-all ui-body-' + $theme + ' ' +    (hasContent ? 'ui-loader-verbose' : 'ui-loader-default')\">  <span class=\"ui-icon {{icon}}\"></span>  <h1></h1></div>",scope:{icon:"@"},compile:function(c,d,e){return d.icon=o(d.icon)?d.icon:"ui-icon-loading",function(c,d,f){var g=d.children().eq(1);c.$parent.$watch(f.jqmLoadDialog,function(c){c?(b.addClass("ui-loading"),a.removeClass(d,"ng-hide")):a.addClass(d,"ng-hide",function(){b.removeClass("ui-loading")})}),e(c,function(a){a.length&&(g.append(a),c.hasContent=!0)})}}}}]),k.directive("jqmOnceClass",["$interpolate",function(a){return{compile:function(b,c){var d=a(c.jqmOnceClass);return function(a,b){b.addClass(d(a))}}}}]),k.directive("jqmPage",["$rootScope","$controller","$scroller",function(a,b,c){function d(a,b){this.$scope=a,this.$element=b;var d=r(b[0].querySelector(".ui-content")),e=c(d);this.scroll=function(a,b){return arguments.length&&(2===arguments.length?e.transformer.easeTo({x:0,y:a},b):e.transformer.setTo({x:0,y:a})),e.transformer.pos},this.scrollHeight=function(){return e.calculateHeight(),e.scrollHeight},this.outOfBounds=function(a){return e.outOfBounds(a)}}return{restrict:"A",template:'<div class="ui-page" jqm-class="\'ui-body-\'+$theme">  <div class="ui-content"    jqm-class="{\'jqm-content-with-header\': $header, \'jqm-content-with-footer\': $footer}"    jqm-transclude>  </div></div>',replace:!0,transclude:!0,require:"^?jqmView",controller:["$scope","$element",d],link:function(a,b,c,d){d||b.addClass("ui-page-active jqm-standalone-page")}}}]),k.directive("jqmPanel",function(){return{restrict:"A",require:"^jqmPanelContainer",replace:!0,transclude:!0,template:"<div class=\"ui-panel ui-panel-closed\"  ng-class=\"'ui-panel-position-'+position+' ui-panel-display-'+display+' ui-body-'+$theme+' ui-panel-animate'\">  <div class=\"ui-panel-inner\" ng-transclude></div></div>",controller:s,scope:{display:"@",position:"@"},compile:function(a,b){return b.display=o(b.display)?b.display:"reveal",b.position=o(b.position)?b.position:"left",function(a,b,c,d){if("left"!==a.position&&"right"!==a.position)throw new Error("jqm-panel position is invalid. Expected 'left' or 'right', got '"+a.position+"'");d.addPanel({scope:a,element:b})}}}}),k.directive("jqmPanelContainer",["$timeout","$transitionComplete","$sniffer",function(a,b,c){function d(d,e){function f(){h(),m(k,function(b){var c=b.scope.position===d.openPanelName;c?(b.element.removeClass("ui-panel-closed"),a(function(){e.addClass("jqm-panel-container-open"),b.element.addClass("ui-panel-open")},1,!1)):(b.element.removeClass("ui-panel-open ui-panel-opened"),e.removeClass("jqm-panel-container-open"))})}function g(){m(k,function(a){var b=a.scope.position===d.openPanelName;a.element.addClass(b?"ui-panel-opened":"ui-panel-closed")})}function h(){var a=i(),b=k[d.openPanelName],c=b&&b.scope;a.addClass("ui-panel-content-wrap ui-panel-animate"),a.toggleClass("ui-panel-content-wrap-open",!!c),a.toggleClass("ui-panel-content-wrap-position-left",!(!c||"left"!==c.position)),a.toggleClass("ui-panel-content-wrap-position-right",!(!c||"right"!==c.position)),a.toggleClass("ui-panel-content-wrap-display-reveal",!(!c||"reveal"!==c.display)),a.toggleClass("ui-panel-content-wrap-display-push",!(!c||"push"!==c.display)),a.toggleClass("ui-panel-content-wrap-display-overlay",!(!c||"overlay"!==c.display))}function i(){return j||(j=r(),m(e.children(),function(a){var b=r(a);b.data("$jqmPanelController")||b.hasClass("ui-panel-dismiss")||j.push(a)})),j}var j,k={};this.addPanel=function(a){k[a.scope.position]=a},this.getPanel=function(a){return k[a]},d.$watch("openPanelName",f),c.animations?b(e,g):d.$watch("openPanelName",g)}return{restrict:"A",transclude:!0,replace:!0,template:'<div jqm-transclude class="jqm-panel-container">  <div class="ui-panel-dismiss"    ng-click="openPanelName = null"     ng-class="openPanelName ? \'ui-panel-dismiss-open ui-panel-dismiss-\'+openPanelName : \'\'">  </div></div>',scope:{openPanelName:"=jqmPanelContainer"},controller:["$scope","$element",d]}}]),k.directive("jqmPopup",["$position","$parse","$compile","$rootScope","$animate","$timeout",function(a,b,c,d,e,f){function g(d,g,i){function j(a,b){d.target=a,d.opened=!0,b=b||d.placement,d.$root.$broadcast("$popupStateChanged",d),g.removeClass("ui-popup-hidden"),e.removeClass(g,"ng-hide"),f(function(){g.css(m(g,a,b))},0,!1)}function k(a){d.target&&a&&d.target[0]===a[0]&&d.hide()}function l(){d.target=null,d.opened=!1,d.$root.$broadcast("$popupStateChanged",d),e.addClass(g,"ng-hide",function(){g.addClass("ui-popup-hidden"),g.css("left",""),g.css("top","")})}function m(b,c,d){var e=b.prop("offsetWidth"),f=b.prop("offsetHeight"),g=a.position(c),h={};switch(d){case"right":h={top:g.top+g.height/2-f/2,left:g.left+g.width};break;case"bottom":h={top:g.top+g.height,left:g.left+g.width/2-e/2};break;case"left":h={top:g.top+g.height/2-f/2,left:g.left-e};break;case"top":h={top:g.top-f,left:g.left+g.width/2-e/2};break;default:h={top:g.top+g.height/2-f/2,left:g.left+g.width/2-e/2}}return h.top=Math.max(h.top,0),h.left=Math.max(h.left,0),h.top+="px",h.left+="px",h}var n=b(i.jqmPopup);if(!n.assign)throw new Error("jqm-popup expected assignable expression for jqm-popup attribute, got '"+i.jqmPopup+"'");n.assign(d.$parent,d),g.parent().prepend(c(h)(d)),d.show=j,d.hideForElement=k,d.hide=l,d.target=null,d.opened=!1}var h="<div jqm-popup-overlay></div>";return{restrict:"A",replace:!0,transclude:!0,template:'<div class="ui-popup-container ng-hide"  jqm-class="{\'ui-popup-open\': opened}">  <div class="ui-popup ui-body-{{$theme}}"    jqm-class="{\'ui-overlay-shadow\': corners}"    ng-transclude>  </div></div>',require:"^?jqmPage",scope:{corners:"@",shadow:"@",placement:"@",overlayTheme:"@"},compile:function(a,b){return b.corners=o(b.corners)?"true"===b.corners:!0,b.shadow=o(b.shadow)?"true"===b.shadow:!0,g}}}]),k.directive("jqmPopupOverlay",function(){return{restrict:"A",replace:!0,template:'<div class="ui-popup-screen ui-overlay-{{overlayTheme || $theme}}"   jqm-class="{\'ui-screen-hidden\': !opened, \'in\': opened}"  ng-click="hide()"></div>'}}),k.directive("jqmPopupTarget",["$parse",function(a){return{restrict:"A",link:function(b,c,d){function e(a){h=a,f(j(b))}function f(a){h&&(a?h.show(c,i):h.opened&&h.hideForElement(c))}function g(a,d){d===h&&j.assign(b,d.opened&&d.target&&d.target[0]===c[0])}var h,i,j=a(d.jqmPopupModel||"$popup");d.$observe("jqmPopupPlacement",function(a){i=a}),b.$watch(d.jqmPopupTarget,e),b.$watch(j,f),b.$on("$popupStateChanged",g)}}}]),k.directive("jqmPositionAnchor",["$rootScope",function(a){return{restrict:"A",link:function(b,c){function d(a,b,c){var d=a[b];a[b]=function(b,e){d.call(a,b,e),c(b,e)}}function e(){e.started||(e.started=!0,a.$evalAsync(function(){f(),e.started=!1}))}function f(){var a,d,e,f=c.children(),h=f.length;for(a=0;h>a;a++)d=f.eq(a),e=d.isolateScope()||d.scope(),e!==b&&(e.$position=g(a,h))}function g(a,b){return{first:0===a,last:a===b-1,middle:a>0&&b-1>a}}var h=c[0];d(h,"appendChild",e),d(h,"insertBefore",e),d(h,"removeChild",e),e()}}}]),k.directive({jqmPullLeftPanel:j("left"),jqmPullRightPanel:j("right")}),k.directive("jqmSlider",[function(){return{restrict:"A",transclude:!0,replace:!0,priority:1,template:'<div jqm-scope-as="jqmSlider" class="ui-slider" jqm-class="{\'ui-disabled\': $scopeAs.jqmSlider.disabled}">    <input type="number" data-ng-model="$scopeAs.jqmSlider.sliderValue" data-type="range" class="ui-input-text ui-corner-all ui-shadow-inset ui-slider-input"        min="$scopeAs.jqmSlider.min" max="$scopeAs.jqmSlider.max" ng-change="$scopeAs.jqmSlider.inputChange()"         jqm-class="{\'ui-disabled\': disabled, \'ui-state-disabled\': disabled, \'mobile-textinput-disabled\': disabled,\'mobile-slider-disabled\': disabled}"        jqm-once-class="ui-body-{{$theme}}" />    <div jqm-class="{\'ui-mini\':$scopeAs.jqmSlider.isMini(),\'ui-disabled\': disabled}" class="ui-slider-track ui-btn-down-c ui-btn-corner-all">        <a href="#" class="ui-slider-handle ui-btn ui-shadow ui-btn-corner-all" data-role="slider" aria-valuenow="$scopeAs.jqmSlider.sliderValue"           jqm-once-class="ui-btn-up-{{$theme}}"            aria-valuemax="$scopeAs.jqmSlider.max" aria-valuemin="$scopeAs.jqmSlider.min" aria-valuetext="0" style="left:50%;" jqm-slider-handle ng-transclude>            <span class="ui-btn-inner">                <span class="ui-btn-text"></span>            </span>        </a>    </div></div>',require:["^?ngModel"],scope:{disabled:"@",mini:"@",min:"@",max:"@",step:"@"},controller:function(a){a.disabled&&a.disabled.length>0&&(a.disabled=!0),a.sliderValue={},this.$scope=a},link:function(a,b,c,d){var e=d[0];e&&(e.$formatters.push(function(b){return void 0===b||isNaN(b)?e.$setViewValue(a.sliderValue):a.sliderValue=b,a.sliderValue}),e.$parsers.push(function(b){return void 0===b&&void 0!==a.sliderValue?a.sliderValue:b}))}}}]),k.directive("jqmSliderHandle",["$window","$document","$dragger","$transformer",function(b,c,d,e){return{restrict:"A",transclude:!0,priority:0,scope:!1,require:["^?ngModel","^jqmSlider"],link:function(c,f,g,h){function i(){return c.mini||C&&C.$scope.mini}function j(){w=s(c.max||100),x=s(c.min||0),y=s(c.step||1),p(),z=d(f),z.addListener(d.DIRECTION_ANY,v),A=e(f),c.midData=(x+w)/2,c.pixelsPerDataUnit=c.axis.width/(w-x),c.midPos=A.pos.x,c.minBounds=c.midPos-c.axis.width/2,c.maxBounds=c.midPos+c.axis.width/2;var a;a=B?isNaN(B.$viewValue)?c.midData:B.$viewValue:c.midData,c.sliderValue=a;var b=parseInt((a-c.midData)*c.pixelsPerDataUnit),g={x:c.midPos+b,y:0};q(g.x)&&(g.x=c.midPos+r(.5*b)),A.setTo(g),B&&B.$formatters.push(function(a){return void 0===a||isNaN(a)?a:(c.sliderValue=B.$modelValue!==B.$viewValue?B.$modelValue:a,l(c.sliderValue))})}function k(a){c.disabled||B&&(c.sliderValue=y*Math.round(a/y),m(c.sliderValue),c.$apply())}function l(a){if(void 0===a||isNaN(a))return a;var b=parseInt((a-c.midData)*c.pixelsPerDataUnit),d={x:c.midPos+b,y:0};return q(d.x)&&(d.x=c.midPos+r(.5*b)),A.setTo(d),a}function m(a){B&&a&&a!=B.$viewValue&&B.$setViewValue(a)}function n(a,b){for(;a.parentNode;){if(a.classList.contains(b))return a;a=a.parentNode}return null}function o(b){var c=a.getComputedStyle(b),d=parseInt(c.getPropertyValue("margin-left"),10)+parseInt(c.getPropertyValue("padding-left"),10),e=parseInt(c.getPropertyValue("left"),10),f=parseInt(c.getPropertyValue("width"),10);return{left:d+(isNaN(e)?0:e),right:d+(isNaN(e)?0:e)+f,width:f}}function p(){c.axis||(c.axis=o(n(D[0],"ui-slider-track"))),c.slideWidth=c.axis.width}function q(a){return a<c.minBounds?a+c.minBounds:a>c.maxBounds?a-c.maxBounds:!1}function r(a){return 0|a}function s(a){var b=parseInt(a);return b==Number.NaN?0:b}function t(){p();var a=q(A.pos.x);if(a){var b=0>a?c.minBounds:c.maxBounds;A.easeTo(b,u(a))}}function u(a){return Math.abs(a)+G+F}function v(a,d){switch(a){case"start":A.changing&&A.stop(),p(),b.onmouseup=function(){v("end",null)},E=!0;break;case"move":if(E){var e={x:A.pos.x+d.delta.x,y:0};if(q(e.x)){var f=0;e={x:A.pos.x+f,y:0}}A.setTo(e);var g=e.x-c.midPos,h=Math.round(c.midData+g/c.pixelsPerDataUnit);k(h)}break;case"end":(q(A.pos.x)||null==d||!d.active)&&t(),b.onclick=null,E=!1}}var w,x,y,z,A,B=h[0],C=h[1],D=f,E=!1,F=200,G=1.5;f.bind("touchmove",function(a){a.preventDefault()}),f.bind("mousemove",function(a){a.preventDefault()}),f.bind("click",function(a){a.preventDefault()}),c.theme=c.$theme||"c",c.isMini=i,j(),c.inputChange=function(){void 0===c.sliderValue||isNaN(c.sliderValue)||m(l(parseInt(c.sliderValue)))},null!==z&&D.bind("$destroy",function(){z.removeListener(v)})}}}]),k.directive("jqmTextarea",["textareaDirective",function(a){return{template:'<textarea    ng-class="{\'ui-disabled mobile-textinput-disabled ui-state-disabled\' : disabled}"    class="ui-input-text ui-corner-all ui-shadow-inset ui-body-{{$theme}}"></textarea>',replace:!0,restrict:"A",require:"?ngModel",scope:{disabled:"@"},link:function(b,c,d,e){function f(){return g.bind("focus",function(){c.addClass("ui-focus")}),g.bind("blur",function(){c.removeClass("ui-focus")}),m(a,function(a){a.link(b,g,d,e)}),g}var g=r(c[0]);f()}}}]),k.directive("jqmTheme",[function(){return{restrict:"A",compile:function(){return{pre:function(a,b,c){var d=b.isolateScope()||b.scope(),e=c.jqmTheme;e&&(d.$theme=e)}}}}}]),k.directive("jqmTransclude",function(){return{controller:["$transclude",function(a){this.$transclude=a}],link:function(a,b,c,d){d.$transclude(function(a){b.append(a)})}}}),k.directive("jqmView",["$compile","$templateCache","$http","$q","$route","$controller","$injector","$nextFrame","$sniffer","$animate","$rootScope",function(a,b,c,d,e,f,g,h,i,j,k){function l(a,b,c,d){function h(){a.$watch(c[d.viewWatchAttr],o,!!c.viewDeepWatch)}function l(){function b(){o(e.current)}a.$on("$routeChangeSuccess",b),b()}function o(a){a=a||{};var b=++B,c=a.locals?a.locals.$template:a.template,e=q(a)&&a||a.loadedTemplateUrl||a.templateUrl;e||c?d.loadView(e,c,y).then(function(c){b===B&&p(a,c)}):(r(null,y),y=null)}function p(b,c){var d,e=b.locals||{},g=w(b,c),h=u.indexOf(g.replace(/^page-/,""))>-1;h?v(g,b.back,c,y):r(c,y),c.scope.$reconnect(),e.$scope=c.scope,b.controller&&(d=f(b.controller,e),b.controllerAs&&(c.scope[b.controllerAs]=d),c.element.data("$ngControllerController",d)),k.$broadcast("$viewContentLoaded",c.element),c.scope.$eval(A),a.$theme=c.element.scope().$theme,y=c}function r(a,c){c&&c.clear(),a&&(b.append(a.element),a.element.addClass("ui-page-active"))}function v(c,d,e,f){function g(){z=null,f&&(f.element.removeClass(k),f.clear()),e.element.removeClass(k),e.element.addClass("ui-page-active"),b.removeClass(i)}var h=s[c.replace(/^page-/,"")],i="ui-mobile-viewport-transitioning viewport-"+c.replace("page-",""),k=c+(d?" reverse":"");e.element.addClass(k),e.animationName=c,f&&f.element.addClass(k),z&&z.element.triggerHandler("animationend"),z=f,b.addClass(i),h&&f?(b.append(e.element),j.leave(f.element,function(){a.$apply(function(){j.enter(e.element,b,null,g)})})):(j.enter(e.element,b,null,g),f&&j.leave(f.element))}function w(b,c){var d=b.back,e="";return d&&(e=y&&y.animationName||e),e||(b.animation?e=t(b.animation)||n(b.animation)?g.invoke(b.animation,null,{$scope:a,$routeParams:b.params}):b.animation:m((c.element[0].className||"").split(" "),function(a){"page-"===a.substring(0,5)&&g.has("."+a+"-animation")&&(e=e||a)})),x(e)}function x(a){return a&&i.animations?i.cssTransform3d?a:"page-fade":""}var y,z,A=c.onload||"",B=0;c[d.viewWatchAttr]?h():l()}function o(e,f){function g(a,b){return b?d.when(i(b)):h(a)}function h(a){return c.get(a,{cache:b}).then(function(a){return i(a.data)})}function i(b){var c=e.$new(),d=r("<div></div>").html(b).children();f.append(d);var g={scope:c,element:a(d)(c),clear:p};return c.$disconnect(),m(d,function(a){a.parentNode.removeChild(a)}),g}this.$scope=e,this.$element=f,this.loadView=g,this.fetchView=h,this.viewWatchAttr="jqmView"}function p(){this.element.remove(),this.element=null,this.scope.$destroy(),this.scope=null}var s={fade:!0,pop:!0,slidefade:!0,slidedown:!0,slideup:!0,flip:!0,turn:!0,flow:!0};return{restrict:"A",template:'<div class="ui-mobile-viewport" jqm-class="\'ui-overlay-\'+$theme" jqm-transclude></div>',replace:!0,transclude:!0,controller:["$scope","$element",o],link:l}}]),k.directive("label",[function(){return{restrict:"E",require:"^?jqmInputWrapper",link:function(a,b,c,d){d&&b.addClass("ui-input-text")}}}]),k.factory("$anchorScroll",["$hideAddressBar",function(b){function c(){a.setTimeout(b,50)}return c}]),k.run(["$anchorScroll","$rootScope",function(a,b){b.$on("$orientationChanged",function(){a()})}]),k.factory("$animationComplete",["$sniffer",function(a){return function(b,c,d){function e(){b.off(f,c)}var f="animationend";if(!a.animations)throw new Error("Browser does not support css animations.");a.vendorPrefix&&(f+=" "+a.vendorPrefix.toLowerCase()+"AnimationEnd");var g=c;return d&&(c=function(){e(),g()}),b.on(f,c),e}}]),k.config(["$provide",function(a){function b(a){var b=a.url;return a.url=function(){var a=b.apply(this,arguments);return 0===arguments.length&&(a=a.replace(/%23/g,"#"),a=a.replace(/ /g,"%20")),a},a}a.decorator("$browser",["$delegate",b])}]),k.factory("$hideAddressBar",["$window","$rootElement","$orientation",function(a,b,c){function d(a){a&&a()}function e(b){function d(){a.removeEventListener("scroll",d,!1),a.clearTimeout(g),m[e]||(m[e]=h(),i(m[e])),o(j)||(1===a.pageYOffset?(j=0,a.scrollTo(0,0)):j=1),b&&b()}var e=c(),f=m[e];f||(f=l),i(f),o(j)?a.scrollTo(0,j):a.scrollTo(0,1),a.addEventListener("scroll",d,!1);var g=a.setTimeout(d,400)}function f(){return Math.max(h(),g())>k}function g(){return a.innerWidth}function h(){return a.innerHeight}function i(a){b.css("height",a+"px")}var j,k=500,l=800,m={};return!a.addEventListener||f()?d:e}]),k.config(["$provide",function(a){var b=!1;a.decorator("$location",["$delegate","$browser","$history","$rootScope",function(a,c,d,e){function f(){var f=c.url;c.url=function(c,g){return c&&(d.onUrlChangeProgrammatically(a.url(),g),b=!0,e.$evalAsync(function(){b=!1})),f.apply(this,arguments)}}return f(),e.$on("$locationChangeSuccess",function(){b||d.onUrlChangeBrowser(a.url())}),d.onUrlChangeProgrammatically(a.url()||"/",!1),a}])}]),k.factory("$history",["$window","$timeout",function(a,b){function c(c){b(function(){a.history.go(c)},20,!1)}function d(a){var b,c=g.urlStack;for(b=0;b<c.length;b++)if(c[b].url===a)return b;return-1}function e(a){var b=g.activeIndex;g.activeIndex=d(a),-1===g.activeIndex?f(a,!1):g.previousIndex=b}function f(a,b){var c=g.urlStack[g.activeIndex];c&&c.url===a||(g.previousIndex=g.activeIndex,b||g.activeIndex++,g.urlStack.splice(g.activeIndex,g.urlStack.length-g.activeIndex),g.urlStack.push({url:a}))}var g={go:c,urlStack:[],indexOf:d,activeIndex:-1,previousIndex:-1,onUrlChangeBrowser:e,onUrlChangeProgrammatically:f};return g}]),k.run(["jqmButtonToggler","$rootElement",function(a,b){a(b)}]),k.factory("jqmButtonToggler",function(){return function(a){function b(a,b){var c=(a.isolateScope()||a.scope()).$theme;
a.toggleClass("ui-btn-down-"+c,b),a.toggleClass("ui-btn-up-"+c,!b)}function c(a,b){var c=(a.isolateScope()||a.scope()).$theme;a.toggleClass("ui-btn-hover-"+c,b)}function d(a,b){for(var c=5,d=a;d.length&&c--;){if(d.hasClass(b))return d;d=d.parent()}return null}var e={};return e.$mousedown=function(a){function c(){b(g,!1),f.off(e,c)}var e="mousedown"===a.type?"mouseup mousemove":"touchmove touchend touchcancel",f=r(a.target),g=d(f,"ui-btn-up-"+f.scope().$theme);g&&(b(g,!0),f.on(e,c))},e.$mouseover=function(a){function b(){c(f,!1),e.off("mouseout",b)}var e=r(a.target),f=d(e,"ui-btn");f&&!f.hasClass("ui-btn-down-"+e.scope().$theme)&&(c(f,!0),e.on("mouseout",b))},a[0].addEventListener("touchstart",e.$mousedown,!0),a[0].addEventListener("mousedown",e.$mousedown,!0),a[0].addEventListener("mouseover",e.$mouseover,!0),e}}),k.provider("jqmConfig",function(){function a(a){return a&&(d=a),d}function b(a){return a&&(e=a),e}function c(){return{primaryTheme:d,secondaryTheme:e}}var d="c",e="a";return{primaryTheme:a,secondaryTheme:b,$get:c}}),k.factory("jqmViewCache",["$cacheFactory",function(a){return a("jqmCachingView")}]),k.factory("$orientation",["$window","$rootScope",function(a,b){function c(){function c(){e()&&b.$apply(function(){b.$broadcast("$orientationChanged",d())})}a.addEventListener("resize",c,!1)}function d(){var b,c;return void 0!==a.orientation&&null!==a.orientation?0===a.orientation||180===a.orientation?g:h:(b=a.innerWidth,c=a.innerHeight,200>c?g:b>c?h:g)}function e(){var a=d();return f===a?!1:(f=a,!0)}if(!a.addEventListener)return s;var f=d(),g="vertical",h="horizontal";return c(),d}]),k.run(["$window",function(a){r(a.document.documentElement).addClass("ui-mobile")}]),k.config(["$provide",function(a){a.decorator("$route",["$delegate","$rootScope","$history",function(a,b,c){return b.$on("$routeChangeStart",function(a,b){b&&(b.back=c.activeIndex<c.previousIndex)}),a}])}]),k.run(["$rootElement","$rootScope",function(a,b){a.bind("$destroy",function(){b.$destroy(),b.$$watchers=[],b.$$listeners=[]})}]),k.config(["$provide",function(a){function b(a){return a.$disconnect=function(){if(this.$root!==this){var a=this.$parent;this.$$disconnected=!0,a.$$childHead===this&&(a.$$childHead=this.$$nextSibling),a.$$childTail===this&&(a.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$$nextSibling=this.$$prevSibling=null}},a.$reconnect=function(){if(this.$root!==this){var a=this;if(a.$$disconnected){var b=a.$parent;a.$$disconnected=!1,a.$$prevSibling=b.$$childTail,b.$$childHead?(b.$$childTail.$$nextSibling=a,b.$$childTail=a):b.$$childHead=b.$$childTail=a}}},a}function c(a,b){function c(a,b){a.$theme=b;var d=a.$new;a.$new=function(a){var b=d.apply(this,arguments);return a&&c(b,this.$theme),b}}return c(a,b.primaryTheme),a}a.decorator("$rootScope",["$delegate",b]),a.decorator("$rootScope",["$delegate","jqmConfig",c])}]),function(){/*! matchMedia() polyfill - Test a CSS media type/query in JS. Authors & copyright (c) 2012: Scott Jehl, Paul Irish, Nicholas Zakas. Dual MIT/BSD license */
a.matchMedia=a.matchMedia||function(a){var b,c=a.documentElement,d=c.firstElementChild||c.firstChild,e=a.createElement("body"),f=a.createElement("div");return f.id="mq-test-1",f.style.cssText="position:absolute;top:-100em",e.style.background="none",e.appendChild(f),function(a){return f.innerHTML='&shy;<style media="'+a+'"> #mq-test-1 { width: 42px; }</style>',c.insertBefore(e,d),b=42===f.offsetWidth,c.removeChild(e),{matches:b,media:a}}}(a.document)}(),k.config(["$provide",function(b){b.decorator("$sniffer",["$delegate","$window","$document",function(b,c,d){function e(b){return a.matchMedia(b).matches}function f(){var b="transform-3d",d=["Webkit","Moz","O"],f=e("(-"+d.join("-"+b+"),(-")+"-"+b+"),("+b+")");if(f)return!!f;var g=c.document.createElement("div"),i={MozTransform:"-moz-transform",transform:"transform"};h.append(g);for(var j in i)void 0!==g.style[j]&&(g.style[j]="translate3d( 100px, 1px, 1px )",f=a.getComputedStyle(g).getPropertyValue(i[j]));return!!f&&"none"!==f}function g(){b.transitions&&b.animations||(b.transitions=q(d[0].body.style.webkitTransition),b.animations=q(d[0].body.style.webkitAnimation),(b.animations||b.transitions)&&(b.vendorPrefix="webkit",b.cssTransform3d=!0))}var h=r("<body>");return r(c.document.body).prepend(h),b.cssTransform3d=f(),g(),h.remove(),b}])}]),k.factory("$transitionComplete",["$sniffer",function(a){return function(b,c,d){function e(){b.off(f,c)}var f="transitionend";if(!a.transitions)throw new Error("Browser does not support css transitions.");a.vendorPrefix&&(f+=" "+a.vendorPrefix.toLowerCase()+"TransitionEnd");var g=c;return d&&(c=function(){e(),g()}),b.on(f,c),e}}])}(window,angular),function(){angular.module("ajoslin.scrolly",["ajoslin.scrolly.scroller","ajoslin.scrolly.directives"]);var a=angular.element,b=angular.noop,c=angular.isDefined,d=angular.copy,e=angular.forEach,f=angular.isString,g=angular.extend;angular.module("ajoslin.scrolly.directives",["ajoslin.scrolly.scroller"]).directive("scrollyScroll",["$scroller","$document",function(b){return a(document.body).bind("touchmove",function(a){a.preventDefault()}),{restrict:"A",link:function(a,c){new b(c)}}}]),angular.module("ajoslin.scrolly.directives").directive("scrollyDraggerIgnore",[function(){return{restrict:"A",controller:b}}]),angular.module("ajoslin.scrolly.desktop",[]).provider("$desktopScroller",[function(){var b={38:150,40:-150,32:-600};this.key=function(a,c){return arguments.length>1&&(b[a]=c),b[a]};var c=.5;this.mouseWheelDistanceMulti=function(a){return arguments.length&&(c=a),c},this.$get=["$document",function(d){function e(c,g){function h(b){var d=b.wheelDeltaY*e.mouseWheelDistanceMulti;if(d)for(var f=a(b.target);f.length;){if(f[0]===c.parent()[0]){i(d),b.preventDefault();break}f=f.parent()}}function i(a){g.calculateHeight();var b=g.transformer.pos.y+a;g.transformer.setTo({y:f(-g.scrollHeight,b,0)})}function j(a){if(!(document.activeElement&&document.activeElement.tagName&&document.activeElement.tagName.match(l))){var c=b[a.keyCode||a.which];if(c){if(a.preventDefault(),g.transformer.changing)return;g.calculateHeight();var d=g.transformer.pos.y+c;if(d=f(-g.scrollHeight,d,0),d!==g.transformer.pos.y){var h=d-g.transformer.pos.y,i=Math.abs(h*e.easeTimeMulti);g.transformer.easeTo({y:d},i)}}}}var k={};c.bind("$destroy",function(){d.unbind("mousewheel",h),d.unbind("keydown",j)}),d.bind("mousewheel",h),d.bind("keydown",j);var l=/INPUT|TEXTAREA|SELECT/i;return k}function f(a,b,c){return Math.min(Math.max(a,b),c)}return e.mouseWheelDistanceMulti=c,e.easeTimeMulti=.66,e}]}]),angular.module("ajoslin.scrolly.dragger",[]).provider("$dragger",[function(){var c=!0;this.shouldBlurOnDrag=function(a){return arguments.length&&(c=!!a),c};var f=40;this.allowedDragAngle=function(a){return arguments.length&&(f=a),f};var h=300;this.maxTimeMotionless=function(a){return arguments.length&&(h=a),h},this.$get=["$window","$document",function(){function i(i,m){function n(b){b=b.originalEvent||b;var d=a(b.target||b.srcElement);if(!d.controller("scrollyDraggerIgnore")){m.stopPropagation&&b.stopPropagation();var e=b.touches?b.touches[0]:b;c&&v(d)&&document.activeElement&&document.activeElement.blur(),w.state=s({x:e.pageX,y:e.pageY}),q("start",!0)}}function o(a){if(a=a.originalEvent||a,w.state.active){a.preventDefault(),m.stopPropagation&&a.stopPropagation();var b=a.touches?a.touches[0]:a;b={x:b.pageX,y:b.pageY};var c=Date.now()-w.state.updatedAt;c>h&&(w.state=s(b)),t(w.state,b);var d=r(b,w.state.origin)%180;w.state.direction=90+f>d&&d>90-f?j:f>d&&d>-f?k:l,q("move")}}function p(a){w.state.active&&(a=a.originalEvent||a,m.stopPropagation&&a.stopPropagation(),w.state.updatedAt=Date.now(),w.state.stopped=w.state.updatedAt-w.state.startedAt>h,q("end",!0),w.state={})}function q(a,b){var c=d(w.state);e(x,function(d,f){(b||!c.direction||c.direction==f||f==l)&&e(d,function(b){b(a,c)})})}function r(a,b){var c=Math.atan2(-(b.y-a.y),b.x-a.x);0>c&&(c+=2*Math.PI);var d=Math.floor(c*(180/Math.PI)-180);return 0>d&&d>-180&&(d=360-Math.abs(d)),Math.abs(d)}function s(a){return{origin:{x:a.x,y:a.y},pos:{x:a.x,y:a.y},distance:{x:0,y:0,magnitude:0},delta:{x:0,y:0,magnitude:0},startedAt:Date.now(),updatedAt:Date.now(),stopped:!1,active:!0}}function t(a,b){a.delta=u(b,a.pos),a.distance=u(b,a.origin),a.pos={x:b.x,y:b.y},a.updatedAt=Date.now()}function u(a,b){var c={x:a.x-b.x,y:a.y-b.y};return c.magnitude=Math.sqrt(c.x*c.x+c.y*c.y),c}function v(a){return a&&("INPUT"===a.tagName||"SELECT"===a.tagName||"TEXTAREA"===a.tagName)}m=g({mouse:!0,touch:!0,stopPropagation:!1},m);var w={},x=(i[0],{});x[j]=[],x[k]=[],x[l]=[];var y=i.data("$scrolly.dragger");return y?y:(i.data("$scrolly.dragger",w),w.state={},w.addListener=function(a,c){1===arguments.length&&(c=a,a=l),x[a].push(c||b)},w.removeListener=function(a,b){1===arguments.length&&(b=a,a=l);var c=x[a],d=c&&c.indexOf(b);c&&d>-1&&c.splice(d,1)},m.touch&&(i.bind("touchstart",n),i.bind("touchmove",o),i.bind("touchend touchcancel",p)),m.mouse&&(i.bind("mousedown",n),i.bind("mousemove",o),i.bind("mouseup mouseout",p)),i.bind("$destroy",function(){delete x[j],delete x[k],delete x[l]}),w)}var j=i.DIRECTION_VERTICAL=1,k=i.DIRECTION_HORIZONTAL=2,l=i.DIRECTION_ANY=3;return i}]}]),angular.module("ajoslin.scrolly.scroller",["ajoslin.scrolly.dragger","ajoslin.scrolly.transformer","ajoslin.scrolly.desktop"]).provider("$scroller",[function(){function a(a){return 0|a}var b=.001;this.decelerationRate=function(a){return arguments.length&&(b=a),b};var c=!0;this.supportDesktop=function(a){return c=!!a};var d=.5;this.pastBoundaryScrollRate=function(a){return arguments.length&&(d=a),d};var e=10;this.minDistanceForAcceleration=function(a){return arguments.length&&(e=a),e};var f=40;this.bounceBuffer=function(a){return arguments.length&&(f=a),f};var g=200,h=1.5;this.bounceBackMinTime=function(a){return arguments.length&&(g=a),g},this.bounceBackDistanceMulti=function(a){return arguments.length&&(h=a),h},this.$get=["$dragger","$transformer","$window","$document","$desktopScroller",function(d,i,j,k,l){function m(a){return Math.abs(a)*h+g}function n(g){function h(b,c){switch(b){case"start":q.changing&&q.stop(),k.calculateHeight();break;case"move":var d=q.pos.y+c.delta.y;k.outOfBounds(d)&&(d=q.pos.y+a(.5*c.delta.y)),q.setTo({y:d});break;case"end":if(k.outOfBounds(q.pos.y)||c.stopped)k.checkBoundaries();else if(Math.abs(c.distance.y)>=e){var f=k.momentum(c);f.position!==q.pos.y&&q.easeTo({y:f.position},f.time,k.checkBoundaries)}}}var k={},o=g.data("$scrolly.scroller");if(o)return o;g.data("$scrolly.scroller",k);var p=g[0],q=k.transformer=new i(g),r=k.dragger=new d(g,{touch:!0,mouse:!1});if(c){new l(g,k)}return r.addListener(d.DIRECTION_VERTICAL,h),g.bind("$destroy",function(){r.removeListener(d.DIRECTION_VERTICAL,h)}),k.calculateHeight=function(){var a=n.getContentRect(p),b=j.innerHeight;return k.scrollHeight=a.height<b?0:a.height-b+a.top+a.bottom,k.scrollHeight},k.calculateHeight(),k.outOfBounds=function(a){return a>0?a:a<-k.scrollHeight?a+k.scrollHeight:!1},k.checkBoundaries=function(){k.calculateHeight();var a=k.outOfBounds(q.pos.y);if(a){var b=a>0?0:-k.scrollHeight;q.easeTo({y:b},m(a))}},k.momentum=function(c){k.calculateHeight();var d,e=Math.abs(c.distance.y)/(c.updatedAt-c.startedAt),g=q.pos.y+e*e/(2*b)*(c.distance.y<0?-1:1),h=e/b,i=k.outOfBounds(g);return i&&(i>0?g=Math.min(i,f):0>i&&(g=Math.max(g,-(k.scrollHeight+f))),d=Math.abs(g-q.pos.y),h=d/e),{position:g,time:a(h)}},k}return n.getContentRect=function(a){var b=window.getComputedStyle(a),c=parseInt(b.getPropertyValue("margin-top"),10)+parseInt(b.getPropertyValue("padding-top"),10),d=parseInt(b.getPropertyValue("margin-bottom"),10)+parseInt(b.getPropertyValue("padding-bottom"),10),e=parseInt(b.getPropertyValue("top"),10),f=parseInt(b.getPropertyValue("bottom"),10),g=parseInt(b.getPropertyValue("height"),10);return{top:c+(isNaN(e)?0:e),bottom:d+(isNaN(f)?0:f),height:g}},n}]}]),angular.module("ajoslin.scrolly.transformer",[]).factory("$nextFrame",["$window",function(a){return a.requestAnimationFrame||a.webkitRequestAnimationFrame||a.mozRequestAnimationFrame||function(b){return a.setTimeout(b,17)}}]).provider("$transformer",[function(){var a="cubic-bezier(0.25, 0.46, 0.45, 0.94)";this.timingFunction=function(b){return arguments.length&&(a=b),a},this.$get=["$window","$nextFrame","$sniffer","$document",function(d,e,g,h){function i(b){return n+" "+b+"ms "+a}function j(a,b){return"translate3d("+(a||0)+"px,"+(b||0)+"px,0)"}function k(a){function f(){g.changing&&g.stop(l)}var g={},h=a[0],k=a.data("$scrolly.transformer");if(k)return k;a.data("$scrolly.transformer",g),a.bind("$destroy",function(){g.pos=null,l=null}),g.pos={x:0,y:0},g.updatePosition=function(){var b=d.getComputedStyle(a[0]),c=(b[m]||"").replace(/[^0-9-.,]/g,"").split(",");return c.length>1&&(g.pos.x=parseInt(c[4],10),g.pos.y=parseInt(c[5],10)),g.pos},g.updatePosition();var l;return a.bind(p,f),g.stop=function(a){h.style[o]="",g.updatePosition(),g.changing=!1,e(function(){g.setTo(g.pos),(a||b)()})},g.easeTo=function(b,c,d){function f(){a.css(o,i(c)),g.changing=!0,l=d,e(function(){g.setTo(b)})}if(!angular.isNumber(c)||0>c)throw new Error("Expected a positive number for time, got '"+c+"'.");g.changing?g.stop(f):f()},g.setTo=function(b){c(b.x)&&(g.pos.x=b.x),c(b.y)&&(g.pos.y=b.y),a.css(m,j(g.pos.x,g.pos.y))},g.clear=function(){a.css(m,""),a.css(o,"")},g}g.vendorPrefix||f(h[0].body.style.webkitTransition)&&(g.vendorPrefix="webkit");var l=g.vendorPrefix;l&&"Moz"!==l&&"O"!==l&&(l=l.substring(0,1).toLowerCase()+l.substring(1));var m=l?l+"Transform":"transform",n=l?"-"+l.toLowerCase()+"-transform":"transform",o=l?l+"Transition":"transition",p=l?l+"TransitionEnd":"transitionend";return k.transformProp=m,k.transformPropDash=n,k.transitionProp=o,k.transitionEndProp=p,k}]}])}(),angular.module("ui.bootstrap.position",[]).factory("$position",["$document","$window",function(a,b){function c(a,c){return a.currentStyle?a.currentStyle[c]:b.getComputedStyle?b.getComputedStyle(a)[c]:a.style[c]}function d(a){return"static"===(c(a,"position")||"static")}var e=function(b){for(var c=a[0],e=b.offsetParent||c;e&&e!==c&&d(e);)e=e.offsetParent;return e||c};return{position:function(b){var c=this.offset(b),d={top:0,left:0},f=e(b[0]);f!=a[0]&&(d=this.offset(angular.element(f)),d.top+=f.clientTop-f.scrollTop,d.left+=f.clientLeft-f.scrollLeft);var g=b[0].getBoundingClientRect();return{width:g.width||b.prop("offsetWidth"),height:g.height||b.prop("offsetHeight"),top:c.top-d.top,left:c.left-d.left}},offset:function(c){var d=c[0].getBoundingClientRect();return{width:d.width||c.prop("offsetWidth"),height:d.height||c.prop("offsetHeight"),top:d.top+(b.pageYOffset||a[0].body.scrollTop||a[0].documentElement.scrollTop),left:d.left+(b.pageXOffset||a[0].body.scrollLeft||a[0].documentElement.scrollLeft)}}}}]);